let isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768;if(isMobile){let e=()=>{var e=document.documentElement;e.style.setProperty("--animation-duration","0.15s"),e.style.setProperty("--scroll-behavior","auto"),document.querySelectorAll(".hero-text, .video-bg, .logo img").forEach(e=>{e.style.cssText="display:block;visibility:visible;opacity:1"}),document.querySelectorAll("input, textarea, select").forEach(e=>{e.style.fontSize="16px"})};["touchstart","touchmove"].forEach(e=>{document.addEventListener(e,()=>{},{passive:!0})}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}let modelosPorMarca={apple:["iPhone 15 Pro Max","iPhone 15 Pro","iPhone 15 Plus","iPhone 15","iPhone 14 Pro Max","iPhone 14 Pro","iPhone 14 Plus","iPhone 14","iPhone 13 Pro Max","iPhone 13 Pro","iPhone 13","iPhone 12 Pro Max","iPhone 12 Pro","iPhone 12"],samsung:["Galaxy S24 Ultra","Galaxy S24+","Galaxy S24","Galaxy S23 Ultra","Galaxy S23+","Galaxy S23","Galaxy Z Fold 5","Galaxy Z Flip 5","Galaxy A54","Galaxy A34"],motorola:["Edge 40 Pro","Edge 40","Moto G84","Moto G54","Moto G23","Razr 40 Ultra","Razr 40"],xiaomi:["Redmi Note 13 Pro+","Redmi Note 13 Pro","Redmi Note 13","13T Pro","13T","Poco F5","Poco X5 Pro"]},valoresBase={apple:{"iPhone 15 Pro Max":8e3,"iPhone 15 Pro":7e3,"iPhone 15 Plus":6e3,"iPhone 15":5500,"iPhone 14 Pro Max":6500,"iPhone 14 Pro":5500,"iPhone 14 Plus":5e3,"iPhone 14":4500,"iPhone 13 Pro Max":5e3,"iPhone 13 Pro":4500,"iPhone 13":4e3,"iPhone 12 Pro Max":4e3,"iPhone 12 Pro":3500,"iPhone 12":3e3},samsung:{"Galaxy S24 Ultra":7e3,"Galaxy S24+":6e3,"Galaxy S24":5e3,"Galaxy S23 Ultra":5500,"Galaxy S23+":4500,"Galaxy S23":4e3,"Galaxy Z Fold 5":6e3,"Galaxy Z Flip 5":4500,"Galaxy A54":2e3,"Galaxy A34":1500}},multiplicadoresEstado={excelente:1,bom:.8,regular:.6,ruim:.4},marcaSelect=document.getElementById("marca"),modeloSelect=document.getElementById("modelo"),estadoSelect=document.getElementById("estado"),form=document.getElementById("trade-in-form");function calcularValorTradeIn(e,t,o){let a=0;if(valoresBase[e]&&valoresBase[e][t])a=valoresBase[e][t];else switch(e){case"apple":a=3e3;break;case"samsung":a=2e3;break;case"motorola":a=1500;break;case"xiaomi":a=1200;break;default:a=1e3}return a*multiplicadoresEstado[o]}function debounce(t,o){let a;return function(...e){clearTimeout(a),a=setTimeout(()=>t.apply(this,e),o)}}function atualizarOpcoesMarca(e){let o=document.getElementById("marca");var t={smartphone:["Apple","Samsung","Motorola","Xiaomi","LG","Asus"],tablet:["Apple","Samsung","Lenovo","Multilaser"],smartwatch:["Apple","Samsung","Xiaomi","Huawei"],notebook:["Apple","Samsung","Dell","Lenovo","HP","Acer"],console:["Sony","Microsoft","Nintendo"]};o&&(o.innerHTML='<option value="" disabled selected>Selecione ou digite a marca</option>',t[e])&&t[e].forEach(e=>{var t=document.createElement("option");t.value=e.toLowerCase(),t.textContent=e,o.appendChild(t)})}marcaSelect&&modeloSelect&&marcaSelect.addEventListener("change",()=>{var e=marcaSelect.value,e=modelosPorMarca[e]||[];modeloSelect.innerHTML='<option value="">Selecione o modelo</option>',e.forEach(e=>{var t=document.createElement("option");t.value=e,t.textContent=e,modeloSelect.appendChild(t)})}),form&&marcaSelect&&modeloSelect&&estadoSelect&&form.addEventListener("submit",e=>{e.preventDefault();var t,e=marcaSelect.value,o=modeloSelect.value,a=estadoSelect.value;e&&o&&a?(t=calcularValorTradeIn(e,o,a),e=`
        <div class="modal" id="resultModal">
            <div class="modal-content">
                <h3>Avaliação do Seu Dispositivo</h3>
                <p>Marca: ${e.toUpperCase()}</p>
                <p>Modelo: ${o}</p>
                <p>Estado: ${a.charAt(0).toUpperCase()+a.slice(1)}</p>
                <h4>Valor Estimado:</h4>
                <p class="valor-estimado">R$ ${t.toLocaleString("pt-BR",{minimumFractionDigits:2})}</p>
                <button onclick="fecharModal()" class="cta-button">Fechar</button>
            </div>
        </div>
    `,document.body.insertAdjacentHTML("beforeend",e),modalStyleInjected||((o=document.createElement("style")).textContent=`
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }
        .valor-estimado {
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: bold;
            margin: 1rem 0;
        }
    `,document.head.appendChild(o),modalStyleInjected=!0)):alert("Por favor, preencha todos os campos!")}),window.fecharModal=function(){var e=document.getElementById("resultModal");e&&e.remove()},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=document.querySelector(this.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth"})})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".mapa-brasil");if(e){let o=document.createDocumentFragment();[{x:45,y:15},{x:65,y:20},{x:55,y:25},{x:75,y:30},{x:40,y:35},{x:80,y:40},{x:85,y:45},{x:90,y:50},{x:70,y:55},{x:60,y:60},{x:50,y:65},{x:45,y:70},{x:55,y:75},{x:65,y:80},{x:75,y:85},{x:40,y:90},{x:50,y:85},{x:60,y:95}].forEach(e=>{var t=document.createElement("div");t.className="mapa-ponto",t.style.left=e.x+"%",t.style.top=e.y+"%",o.appendChild(t)}),e.appendChild(o)}}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll(".dispositivo-btn"),o=document.querySelector(".form-container");var e=document.querySelector(".btn-voltar");document.querySelector(".btn-continuar");let a=null;o&&(o.style.display="none"),t.forEach(e=>{e.querySelector(".badge-em-breve")&&(e.disabled=!0),e.addEventListener("click",function(){this.disabled||(t.forEach(e=>e.classList.remove("selected")),this.classList.add("selected"),a=this.getAttribute("data-device"),o&&(o.style.display="block",o.scrollIntoView({behavior:"smooth"})),atualizarOpcoesMarca(a))})}),e&&o&&e.addEventListener("click",function(){o.style.display="none",t.forEach(e=>e.classList.remove("selected")),a=null,document.getElementById("marca")&&(document.getElementById("marca").value=""),document.getElementById("modelo")&&(document.getElementById("modelo").value=""),document.getElementById("capacidade")&&(document.getElementById("capacidade").value="");var e=document.querySelector(".avaliacao");e&&e.scrollIntoView({behavior:"smooth"})});e=document.querySelector(".device-details-form");e&&e.addEventListener("submit",function(e){e.preventDefault();var e=document.getElementById("marca")?document.getElementById("marca").value:"",t=document.getElementById("modelo")?document.getElementById("modelo").value:"",o=document.getElementById("capacidade")?document.getElementById("capacidade").value:"";e&&t&&o?console.log("Formulário enviado:",{dispositivo:a,marca:e,modelo:t,capacidade:o}):alert("Por favor, preencha todos os campos")})});let marcaSelect2=document.getElementById("marca"),modeloSelect2=(marcaSelect2&&marcaSelect2.addEventListener("change",function(){let o=document.getElementById("modelo");var e=this.value;o&&(o.innerHTML='<option value="" disabled selected>Selecione ou digite o modelo</option>',modelosPorMarca[e])&&modelosPorMarca[e].forEach(e=>{var t=document.createElement("option");t.value=e.toLowerCase(),t.textContent=e,o.appendChild(t)})}),document.getElementById("modelo"));function openTab(e){document.querySelectorAll(".tab-content").forEach(e=>{e.classList.remove("active")});document.querySelectorAll(".tab-btn").forEach(e=>{e.classList.remove("active")}),document.getElementById(e).classList.add("active");var t=document.querySelector(`.tab-btn[onclick="openTab('${e}')"]`);t&&t.classList.add("active"),document.body.classList.remove("sobre-bg-global"),"sobre"===e&&document.body.classList.add("sobre-bg-global")}modeloSelect2&&modeloSelect2.addEventListener("change",function(){let o=document.getElementById("capacidade");o&&(o.innerHTML='<option value="" disabled selected>Selecione ou digite a capacidade</option>',["16GB","32GB","64GB","128GB","256GB","512GB","1TB"].forEach(e=>{var t=document.createElement("option");t.value=e.toLowerCase(),t.textContent=e,o.appendChild(t)}))}),document.getElementById("form-contato")?.addEventListener("submit",function(e){e.preventDefault();e={nome:document.getElementById("nome").value,email:document.getElementById("email").value,assunto:document.getElementById("assunto").value,mensagem:document.getElementById("mensagem").value};console.log("Dados do formulário:",e),alert("Mensagem enviada com sucesso! Em breve entraremos em contato."),this.reset()}),document.addEventListener("DOMContentLoaded",()=>{openTab("home")}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll(".processo-tab-btn"),o=document.querySelectorAll(".processo-tab-content");t.forEach(e=>{e.addEventListener("click",function(){t.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),this.classList.add("active");var e=this.getAttribute("data-tab");document.getElementById("tab-"+e).classList.add("active")})})}),document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(".respostas-slider"),n=document.querySelectorAll(".resposta-card"),r=document.querySelectorAll(".indicator"),i=document.querySelector(".nav-button.prev"),c=document.querySelector(".nav-button.next"),o=0,l=n.length;function s(o){var e=n[0].offsetWidth;let t=o*(e+24);window.requestAnimationFrame(()=>{a.scrollTo({left:t,behavior:"smooth"}),r.forEach((e,t)=>{e.classList.toggle("active",t===o)}),i.style.opacity=0===o?"0.5":"1",c.style.opacity=o===l-1?"0.5":"1"})}i.addEventListener("click",()=>{0<o&&s(--o)}),c.addEventListener("click",()=>{o<l-1&&s(++o)}),r.forEach((e,t)=>{e.addEventListener("click",()=>{s(o=t)})}),window.addEventListener("resize",debounce(()=>{s(o)},150)),s(0)}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".video-bg-wrapper");var e=document.querySelectorAll(".tab-btn");let o=document.querySelector("header");e.forEach(e=>{e.addEventListener("click",function(){this.textContent.includes("Sobre Nós")?(t&&(t.style.display="none"),o.classList.add("header-black")):this.textContent.includes("Home")?(t&&(t.style.display="block"),o.classList.remove("header-black")):this.textContent.includes("Trabalhe Conosco")||this.textContent.includes("Fale Conosco")?(t&&(t.style.display="none"),o.classList.add("header-black")):o.classList.remove("header-black")})}),t&&(t.style.display="block")});class CacheManager{constructor(){this.cacheVersion="1.6.6",this.cacheStrategies={critical:{maxAge:31536e3},static:{maxAge:2592e3},external:{maxAge:86400},dynamic:{maxAge:3600}}}async init(){if("serviceWorker"in navigator&&"file:"!==window.location.protocol)try{var e=await navigator.serviceWorker.register("/sw.js?v="+this.cacheVersion);return console.log("Cache Manager inicializado:",e.scope),navigator.serviceWorker.addEventListener("message",this.handleSWMessage.bind(this)),e}catch(e){console.error("Erro ao inicializar Cache Manager:",e)}else console.log("Service Worker desabilitado para protocolo file://")}handleSWMessage(e){var{type:e,data:t}=e.data;switch(e){case"CACHE_INFO":console.log("Informações do cache:",t),this.updateCacheStatus(t);break;case"CACHE_CLEARED":console.log("Cache limpo com sucesso"),this.showNotification("Cache atualizado","success")}}async getCacheInfo(){var e;navigator.serviceWorker.controller&&((e=new MessageChannel).port1.onmessage=e=>{this.handleSWMessage(e)},navigator.serviceWorker.controller.postMessage({type:"GET_CACHE_INFO"},[e.port2]))}async clearCache(){var e;navigator.serviceWorker.controller&&((e=new MessageChannel).port1.onmessage=e=>{this.handleSWMessage(e)},navigator.serviceWorker.controller.postMessage({type:"CLEAR_CACHE"},[e.port2]))}updateCacheStatus(e){var t=document.getElementById("cache-status");t&&(t.textContent=`Cache v${e.version} - ${e.caches.length} caches ativos`)}showNotification(e,t="info"){let o=document.createElement("div");o.className="cache-notification "+t,o.textContent=e,o.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 12px 20px;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      z-index: 10000;
      animation: slideIn 0.3s ease-out;
    `,o.style.backgroundColor="success"===t?"#00b140":"error"===t?"#dc3545":"#007bff",document.body.appendChild(o),setTimeout(()=>{o.style.animation="slideOut 0.3s ease-in",setTimeout(()=>{document.body.removeChild(o)},300)},3e3)}preloadResources(e){e.forEach(e=>{var t=document.createElement("link");t.rel="preload",t.href=e.url,t.as=e.type,e.crossorigin&&(t.crossOrigin="anonymous"),document.head.appendChild(t)})}setupLazyLoading(){var e=document.querySelectorAll('img[loading="lazy"]'),t=document.querySelectorAll('video[loading="lazy"]');let o=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&((e=e.target).src=e.dataset.src||e.src,e.classList.remove("lazy"),t.unobserve(e))})}),a=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&((e=e.target).src=e.dataset.src||e.src,e.classList.remove("lazy"),t.unobserve(e))})});e.forEach(e=>o.observe(e)),t.forEach(e=>a.observe(e))}optimizePerformance(){this.preloadResources([{url:"/styles.css?v="+this.cacheVersion,type:"style"},{url:"/script.js?v="+this.cacheVersion,type:"script"},{url:"/assets/images/Renov-Logo.webp?v="+this.cacheVersion,type:"image"}]);["//fonts.googleapis.com","//fonts.gstatic.com","//cdnjs.cloudflare.com"].forEach(e=>{var t=document.createElement("link");t.rel="dns-prefetch",t.href=e,document.head.appendChild(t)});[{href:"//fonts.googleapis.com"},{href:"//fonts.gstatic.com",crossorigin:!0},{href:"//cdnjs.cloudflare.com"}].forEach(e=>{var t=document.createElement("link");t.rel="preconnect",t.href=e.href,e.crossorigin&&(t.crossOrigin="anonymous"),document.head.appendChild(t)})}}let cacheManager=new CacheManager;function initMobileMenu(){var e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".mobile-menu-overlay");e&&t&&e.addEventListener("click",openMobileMenu)}function openMobileMenu(){var e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".mobile-menu-overlay");e&&t&&(e.classList.add("active"),t.classList.add("active"),document.body.style.overflow="hidden")}function closeMobileMenu(){var e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".mobile-menu-overlay");e&&t&&(e.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")}function forceVideoLoad(){let t=document.getElementById("hero-video");t&&(t.load(),t.style.cssText=`
      display: block !important;
      opacity: 1 !important;
      visibility: visible !important;
      width: 100vw !important;
      height: 100% !important;
      min-width: 100vw !important;
      min-height: 100% !important;
      object-fit: cover !important;
      position: absolute !important;
      top: 0 !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      z-index: 0 !important;
      background: transparent !important;
    `,setTimeout(()=>{var e=t.play();void 0!==e&&e.catch(e=>{console.log("Vídeo não pôde ser reproduzido automaticamente:",e),t.style.display="block",t.style.opacity="1",t.style.visibility="visible"})},100),t.addEventListener("loadeddata",()=>{t.style.display="block",t.style.opacity="1",t.style.visibility="visible"}))}document.addEventListener("DOMContentLoaded",async()=>{await cacheManager.init(),cacheManager.optimizePerformance(),cacheManager.setupLazyLoading(),setTimeout(()=>{cacheManager.getCacheInfo()},1e3),initMobileMenu(),forceVideoLoad(),window.innerWidth<=940&&setTimeout(()=>{var e=document.getElementById("hero-video");e&&(e.style.cssText=`
          display: block !important;
          opacity: 1 !important;
          visibility: visible !important;
          width: 100vw !important;
          height: 100% !important;
          min-width: 100vw !important;
          min-height: 100% !important;
          object-fit: cover !important;
          position: absolute !important;
          top: 0 !important;
          left: 50% !important;
          transform: translateX(-50%) !important;
          z-index: 0 !important;
          background: transparent !important;
        `)},500)}),document.addEventListener("click",e=>{var t=document.querySelector(".mobile-menu-overlay"),o=document.querySelector(".mobile-menu-toggle");t&&t.classList.contains("active")&&(t.contains(e.target)||o.contains(e.target)||closeMobileMenu())}),document.addEventListener("keydown",e=>{"Escape"===e.key&&closeMobileMenu()});